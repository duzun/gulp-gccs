var gccs=require("gccs"),through=require("through2"),PluginError=require("plugin-error"),PLUGIN_NAME="gulp-gccs";
function gulpGCCS(f){var b=Object.assign({},f||{});return through.obj(function(a,c,d){var e=this;if(a.isNull())return d(null,a);a.isBuffer()&&(b.js_code=a.contents,gccs(b,function(b,c){b?e.emit("error",new PluginError(PLUGIN_NAME,b)):(a.contents=Buffer.from(c,"utf8"),d(null,a))}),delete b.js_code);a.isStream()&&(c=through(),b.out_file=c,gccs.file(a.contents,b,function(a){a&&e.emit("error",new PluginError(PLUGIN_NAME,a))}),delete b.out_file,a.contents=c,d(null,a))})}module.exports=gulpGCCS;
